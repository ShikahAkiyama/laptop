<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Input Laptop</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="admin.css">
</head>
<body class="bg-light">
    <div class="container mt-5">
        <!-- Header Khusus Cetak -->
        <div class="printable-header d-none">
            <img src="assets/logo.png" alt="Logo Toko" style="max-width: 300px; height: auto; margin-bottom: 15px;">
            <div class="mb-4">
                <p class="mb-0 fw-bold">Jl. Medokan Sawah Timur Gg. 1A No. 10 Kav. 22A</p>
                <p class="mb-0">Phone: (+62) 899 4335 111</p>
                <p class="mb-0">E-Mail: dokterpc@servicekomputersurabaya.id</p>
                <p class="mb-0">Web: https://servicekomputersurabaya.id</p>
            </div>
            <h2>üìÑ Brosur Daftar Laptop Ready Stock</h2>
            <p>Kualitas Terjamin ‚Ä¢ Bergaransi ‚Ä¢ Siap Pakai</p>
            <hr>
        </div>

        <div class="row justify-content-center">
            <div class="col-md-8 no-print">
                <div class="card shadow">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0">Input Data Laptop Baru</h4>
                    </div>
                    <div class="card-body">
                        <form id="laptopForm">
                            <input type="hidden" id="docId">
                            <div class="mb-3">
                                <label class="form-label">Brand / Kategori</label>
                                <select class="form-select" id="brand" required>
                                    <option value="Lenovo">Lenovo ThinkPad</option>
                                    <option value="Dell">Dell Latitude</option>
                                    <option value="HP">HP (ProBook/EliteBook)</option>
                                    <option value="Apple">Apple MacBook</option>
                                    <option value="Asus">Asus Laptop</option>
                                    <option value="Acer">Acer Laptop</option>
                                    <option value="Other">‚ûï Lain-lain (Input Manual)</option>
                                </select>
                            </div>
                            <div class="mb-3 d-none" id="customBrandDiv">
                                <label class="form-label">Masukkan Nama Brand Baru</label>
                                <input type="text" class="form-control" id="customBrand" placeholder="Contoh: Zyrex, MSI, Samsung">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Model Laptop</label>
                                <input type="text" class="form-control" id="model" placeholder="Contoh: ThinkPad T480" required>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Processor</label>
                                    <input type="text" class="form-control" id="processor" placeholder="Contoh: i5 Gen 8" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">RAM</label>
                                    <input type="text" class="form-control" id="ram" placeholder="Contoh: 8GB" required>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Storage (SSD/HDD)</label>
                                    <input type="text" class="form-control" id="storage" placeholder="Contoh: 256GB SSD" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Layar & Fitur</label>
                                    <input type="text" class="form-control" id="features" placeholder="Contoh: 14 inch FHD, Backlit" required>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Harga (Rp)</label>
                                    <input type="number" class="form-control" id="price" placeholder="Tanpa titik/koma" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Stok</label>
                                    <input type="number" class="form-control" id="stock" required>
                                </div>
                                <div class="col-md-12 mb-3">
                                    <label class="form-label">Status Penjualan</label>
                                    <select class="form-select" id="status">
                                        <option value="active" selected>‚úÖ Aktif (Tampil di Web)</option>
                                        <option value="inactive">‚ùå Non-Aktif (Disembunyikan)</option>
                                    </select>
                                </div>
                                <div class="col-md-12 mb-3">
                                    <label class="form-label">URL Gambar (Pisahkan dengan koma jika lebih dari 1)</label>
                                    <input type="text" class="form-control" id="images" placeholder="https://example.com/foto1.jpg, https://example.com/foto2.jpg">
                                </div>
                            </div>
                            <button type="submit" class="btn btn-success w-100">Simpan Data ke Database</button>
                            <button type="button" id="btnCancel" class="btn btn-secondary w-100 mt-2 d-none">Batal Edit</button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Bagian Upload CSV -->
            <div class="col-md-8 mt-4 mb-5 no-print">
                <div class="card shadow">
                    <div class="card-header bg-success text-white">
                        <h4 class="mb-0">Import / Export Data CSV</h4>
                    </div>
                    <div class="card-body">
                        <button id="btnDownloadCsv" class="btn btn-primary w-100 mb-2">
                            <i class="bi bi-download me-2"></i> Download Data Saat Ini (CSV)
                        </button>
                        <button id="btnDeleteAll" class="btn btn-danger w-100 mb-4">
                            <i class="bi bi-trash me-2"></i> Hapus Semua Data Database
                        </button>
                        <h5 class="fw-bold">Upload Data Baru</h5>
                        <p class="text-muted">Format CSV: brand;model;processor;ram;storage;features;price;stock;images(pisahkan dengan |)</p>
                        <div class="mb-3">
                            <input class="form-control" type="file" id="csvFile" accept=".csv">
                        </div>
                        <button id="btnUploadCsv" class="btn btn-outline-success w-100">Upload CSV</button>
                        <div id="uploadStatus" class="mt-2 text-center fw-bold text-primary"></div>
                    </div>
                </div>
            </div>

            <!-- Bagian Tabel Daftar Laptop (Edit/Hapus) -->
            <div class="col-md-12 mt-2 mb-5">
                <div class="card shadow">
                    <div class="card-header bg-dark text-white">
                        <h4 class="mb-0">Daftar Laptop (Edit / Hapus)</h4>
                    </div>
                    <div class="card-body">
                        <div class="d-flex gap-2 mb-3 no-print">
                            <button class="btn btn-outline-dark active filter-btn" data-filter="all">Semua</button>
                            <button class="btn btn-outline-success filter-btn" data-filter="active">Aktif Only</button>
                            <button class="btn btn-outline-secondary filter-btn" data-filter="inactive">Non-Aktif</button>
                            <button class="btn btn-danger ms-auto" onclick="window.print()">üñ®Ô∏è Export PDF / Cetak</button>
                        </div>
                        
                        <!-- Filter & Sort Section -->
                        <div class="card bg-light mb-3 no-print">
                            <div class="card-body p-2">
                                <div class="row g-2 align-items-center">
                                    <div class="col-md-3">
                                        <input type="text" id="searchInput" class="form-control form-control-sm" placeholder="üîç Cari Brand/Model...">
                                    </div>
                                    <div class="col-md-2">
                                        <input type="number" id="minPrice" class="form-control form-control-sm" placeholder="Min Harga (Rp)">
                                    </div>
                                    <div class="col-md-2">
                                        <input type="number" id="maxPrice" class="form-control form-control-sm" placeholder="Max Harga (Rp)">
                                    </div>
                                    <div class="col-md-3">
                                        <select id="sortBy" class="form-select form-select-sm">
                                            <option value="newest">üìÖ Urut: Terbaru</option>
                                            <option value="price_asc">üí∞ Harga: Rendah ke Tinggi</option>
                                            <option value="price_desc">üíé Harga: Tinggi ke Rendah</option>
                                        </select>
                                    </div>
                                    <div class="col-md-2">
                                        <button id="btnResetFilter" class="btn btn-secondary btn-sm w-100">Reset</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="table-responsive">
                            <table class="table table-bordered table-hover align-middle" id="adminTable">
                                <thead class="table-light">
                                    <tr>
                                        <th class="no-print" style="width: 10px;">#</th>
                                        <th class="col-brand">Brand & Model</th>
                                        <th class="col-specs">Spesifikasi Utama</th>
                                        <th class="col-price">Harga & Stok</th>
                                        <th style="width: 150px;">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3 no-print">
        <div id="liveToast" class="toast align-items-center text-white bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body" id="toastMessage">
                    Berhasil!
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script type="module" src="admin.js"></script>
</body>
</html>